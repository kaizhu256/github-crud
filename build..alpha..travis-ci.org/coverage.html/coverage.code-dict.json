{"/home/travis/build/kaizhu256/node-github-crud/test.js":"/* istanbul instrument in package github_crud */\n/* istanbul ignore next */\n/* jslint utility2:true */\n(function (globalThis) {\n    \"use strict\";\n    var consoleError;\n    var local;\n    // init globalThis\n    (function () {\n        try {\n            globalThis = Function(\"return this\")(); // jslint ignore:line\n        } catch (ignore) {}\n    }());\n    globalThis.globalThis = globalThis;\n    // init debug_inline\n    if (!globalThis[\"debug\\u0049nline\"]) {\n        consoleError = console.error;\n        globalThis[\"debug\\u0049nline\"] = function () {\n        /*\n         * this function will both print <arguments> to stderr\n         * and return <arguments>[0]\n         */\n            var argList;\n            argList = Array.from(arguments); // jslint ignore:line\n            // debug arguments\n            globalThis[\"debug\\u0049nlineArguments\"] = argList;\n            consoleError(\"\\n\\ndebug\\u0049nline\");\n            consoleError.apply(console, argList);\n            consoleError(\"\\n\");\n            // return arg0 for inspection\n            return argList[0];\n        };\n    }\n    // init local\n    local = {};\n    local.local = local;\n    globalThis.globalLocal = local;\n    // init isBrowser\n    local.isBrowser = (\n        typeof window === \"object\"\n        && window === globalThis\n        && typeof window.XMLHttpRequest === \"function\"\n        && window.document\n        && typeof window.document.querySelector === \"function\"\n    );\n    // init function\n    local.assertThrow = function (passed, message) {\n    /*\n     * this function will throw err.<message> if <passed> is falsy\n     */\n        var err;\n        if (passed) {\n            return;\n        }\n        err = (\n            // ternary-operator\n            (\n                message\n                && typeof message.message === \"string\"\n                && typeof message.stack === \"string\"\n            )\n            // if message is errObj, then leave as is\n            ? message\n            : new Error(\n                typeof message === \"string\"\n                // if message is a string, then leave as is\n                ? message\n                // else JSON.stringify message\n                : JSON.stringify(message, null, 4)\n            )\n        );\n        throw err;\n    };\n    local.functionOrNop = function (fnc) {\n    /*\n     * this function will if <fnc> exists,\n     * them return <fnc>,\n     * else return <nop>\n     */\n        return fnc || local.nop;\n    };\n    local.identity = function (value) {\n    /*\n     * this function will return <value>\n     */\n        return value;\n    };\n    local.nop = function () {\n    /*\n     * this function will do nothing\n     */\n        return;\n    };\n    local.objectAssignDefault = function (target, source) {\n    /*\n     * this function will if items from <target> are\n     * null, undefined, or empty-string,\n     * then overwrite them with items from <source>\n     */\n        target = target || {};\n        Object.keys(source || {}).forEach(function (key) {\n            if (\n                target[key] === null\n                || target[key] === undefined\n                || target[key] === \"\"\n            ) {\n                target[key] = target[key] || source[key];\n            }\n        });\n        return target;\n    };\n    // require builtin\n    if (!local.isBrowser) {\n        local.assert = require(\"assert\");\n        local.buffer = require(\"buffer\");\n        local.child_process = require(\"child_process\");\n        local.cluster = require(\"cluster\");\n        local.crypto = require(\"crypto\");\n        local.dgram = require(\"dgram\");\n        local.dns = require(\"dns\");\n        local.domain = require(\"domain\");\n        local.events = require(\"events\");\n        local.fs = require(\"fs\");\n        local.http = require(\"http\");\n        local.https = require(\"https\");\n        local.net = require(\"net\");\n        local.os = require(\"os\");\n        local.path = require(\"path\");\n        local.querystring = require(\"querystring\");\n        local.readline = require(\"readline\");\n        local.repl = require(\"repl\");\n        local.stream = require(\"stream\");\n        local.string_decoder = require(\"string_decoder\");\n        local.timers = require(\"timers\");\n        local.tls = require(\"tls\");\n        local.tty = require(\"tty\");\n        local.url = require(\"url\");\n        local.util = require(\"util\");\n        local.vm = require(\"vm\");\n        local.zlib = require(\"zlib\");\n    }\n}(this));\n\n\n\n(function (local) {\n\"use strict\";\n\n\n\n// run shared js-env code - init-before\n(function () {\n// init local\nlocal = (\n    globalThis.utility2 || require(\"utility2\")\n).requireReadme();\nglobalThis.local = local;\n// init test\nlocal.testRunDefault(local);\n}());\n\n\n\n// run shared js-env code - function\n(function () {\nlocal.testCase_githubCrudContentDelete_tree = function (options, onError) {\n/*\n * this function will test githubCrudContentDelete's tree handling-behavior\n */\n    var httpReq;\n    if (local.isBrowser) {\n        onError(null, options);\n        return;\n    }\n    httpReq = function (urlParsed, onRes) {\n        onRes(httpReq, urlParsed);\n        return httpReq;\n    };\n    httpReq.end = local.nop;\n    httpReq.ii = -1;\n    httpReq.on = function (type, onError) {\n        httpReq.ii += 1;\n        switch (type) {\n        case \"data\":\n            onError(Buffer.from(\n                httpReq.ii\n                ? \"{\\\"sha\\\":\\\"aa\\\"}\"\n                : (\n                    \"[{\\\"url\\\":\\\"https://github.com\"\n                    + \"/:owner/:repo/blob/:branch/:path\\\"}]\"\n                )\n            ));\n            break;\n        case \"end\":\n            onError();\n            break;\n        }\n        return httpReq;\n    };\n    local.githubCrudContentDelete({\n        httpReq,\n        url: \"https://github.com/:owner/:repo/blob/:branch/:path\"\n    }, onError);\n};\n\nlocal.testCase_githubCrudContentXxx_default = function (options, onError) {\n/*\n * this function will test githubCrudContentXxx's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, options);\n        return;\n    }\n    local.onParallelList({\n        list: [\n            \"githubCrudAjax\",\n            \"githubCrudContentDelete\",\n            \"githubCrudContentGet\",\n            \"githubCrudContentPut\",\n            \"githubCrudContentPutFile\",\n            \"githubCrudContentTouch\",\n            \"githubCrudContentTouchList\"\n        ]\n    }, function (opt2, onParallel) {\n        var httpReq;\n        httpReq = function (urlParsed, onRes) {\n            setTimeout(onRes, 0, httpReq, urlParsed);\n            return httpReq;\n        };\n        httpReq.end = local.nop;\n        httpReq.on = function (type, onError) {\n            switch (type) {\n            case \"data\":\n                onError(Buffer.from(\"{\\\"sha\\\":\\\"aa\\\"}\"));\n                break;\n            case \"end\":\n                setTimeout(onError);\n                break;\n            }\n            return httpReq;\n        };\n        onParallel.counter += 1;\n        local[opt2.elem]({\n            content: \"aa\",\n            file: \"https://github.com/:owner/:repo/blob/:branch/:path\",\n            httpReq,\n            url: \"https://github.com/:owner/:repo/blob/:branch/:path\",\n            urlList: [\"https://github.com/:owner/:repo/blob/:branch/:path\"]\n        }, function (err) {\n            // validate no err occurred\n            local.assertThrow(!err, err);\n            onParallel(null, options);\n        });\n    }, onError);\n};\n\nlocal.testCase_githubCrudContentXxx_err = function (options, onError) {\n/*\n * this function will test githubCrudContentXxx's err handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, options);\n        return;\n    }\n    local.onParallelList({\n        list: [\n            \"githubCrudAjax\",\n            \"githubCrudContentGet\",\n            \"githubCrudContentPut\",\n            \"githubCrudContentPutFile\",\n            \"githubCrudContentTouch\",\n            \"githubCrudContentTouchList\"\n        ]\n    }, function (opt2, onParallel) {\n        var httpReq;\n        httpReq = function (urlParsed, onRes) {\n            setTimeout(onRes, 0, httpReq, urlParsed);\n            return httpReq;\n        };\n        httpReq.end = local.nop;\n        httpReq.on = function (type, onError) {\n            switch (type) {\n            case \"data\":\n                onError(Buffer.from(\"{}\"));\n                break;\n            case \"end\":\n                setTimeout(onError);\n                break;\n            case \"error\":\n                setTimeout(onError, null, local.errDefault);\n                break;\n            }\n            return httpReq;\n        };\n        onParallel.counter += 1;\n        local[opt2.elem]({\n            file: \"package.json\",\n            httpReq,\n            url: \"https://github.com/:owner/:repo/blob/:branch/:path/\",\n            urlList: [\"error\"]\n        }, function (err) {\n            // validate err occurred\n            local.assertThrow(err, opt2);\n            onParallel(null, options);\n        });\n    }, onError);\n};\n\nlocal.testCase_githubCrudRepoXxxList_default = function (options, onError) {\n/*\n * this function will test githubCrudRepoXxxList's default handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, options);\n        return;\n    }\n    options = {};\n    options.statusCode = 404;\n    local.onParallelList({\n        list: [\n            \"githubCrudRepoCreateList\",\n            \"githubCrudRepoDeleteList\"\n        ]\n    }, function (opt2, onParallel) {\n        var httpReq;\n        onParallel.counter += 1;\n        httpReq = function (urlParsed, onRes) {\n            var reqObj;\n            reqObj = {};\n            reqObj.statusCode = options.statusCode;\n            options.statusCode = 0;\n            reqObj.end = local.nop;\n            reqObj.on = function (type, onError) {\n                switch (type) {\n                case \"end\":\n                    setTimeout(onError);\n                    break;\n                }\n                return reqObj;\n            };\n            setTimeout(onRes, 0, reqObj, urlParsed);\n            return reqObj;\n        };\n        local[opt2.elem]({\n            httpReq,\n            urlList: [\"aa/bb\"]\n        }, function (err) {\n            // validate no err occurred\n            local.assertThrow(!err, err);\n            onParallel(null, options);\n        });\n    }, onError);\n};\n\nlocal.testCase_githubCrudRepoXxx_err = function (options, onError) {\n/*\n * this function will test githubCrudRepoXxx's err handling-behavior\n */\n    if (local.isBrowser) {\n        onError(null, options);\n        return;\n    }\n    local.onParallelList({\n        list: [\n            \"githubCrudRepoCreateList\",\n            \"githubCrudRepoDeleteList\"\n        ]\n    }, function (opt2, onParallel) {\n        onParallel.counter += 1;\n        local[opt2.elem]({\n            urlList: [\"undefined\"]\n        }, function (err) {\n            // validate err occurred\n            local.assertThrow(err, err);\n            onParallel(null, options);\n        });\n    }, onError);\n};\n}());\n\n\n\n}());\n","/home/travis/build/kaizhu256/node-github-crud/lib.github_crud.js":"// usr/bin/env node\n/*\n * lib.github_crud.js (2019.1.21)\n * https://github.com/kaizhu256/node-github-crud\n * this zero-dependency package will provide a simple cli-tool to PUT / GET / DELETE github files\n *\n */\n\n\n\n/* istanbul instrument in package github_crud */\n/* istanbul ignore next */\n/* jslint utility2:true */\n(function (globalThis) {\n    \"use strict\";\n    var consoleError;\n    var local;\n    // init globalThis\n    (function () {\n        try {\n            globalThis = Function(\"return this\")(); // jslint ignore:line\n        } catch (ignore) {}\n    }());\n    globalThis.globalThis = globalThis;\n    // init debug_inline\n    if (!globalThis[\"debug\\u0049nline\"]) {\n        consoleError = console.error;\n        globalThis[\"debug\\u0049nline\"] = function () {\n        /*\n         * this function will both print <arguments> to stderr\n         * and return <arguments>[0]\n         */\n            var argList;\n            argList = Array.from(arguments); // jslint ignore:line\n            // debug arguments\n            globalThis[\"debug\\u0049nlineArguments\"] = argList;\n            consoleError(\"\\n\\ndebug\\u0049nline\");\n            consoleError.apply(console, argList);\n            consoleError(\"\\n\");\n            // return arg0 for inspection\n            return argList[0];\n        };\n    }\n    // init local\n    local = {};\n    local.local = local;\n    globalThis.globalLocal = local;\n    // init isBrowser\n    local.isBrowser = (\n        typeof window === \"object\"\n        && window === globalThis\n        && typeof window.XMLHttpRequest === \"function\"\n        && window.document\n        && typeof window.document.querySelector === \"function\"\n    );\n    // init function\n    local.assertThrow = function (passed, message) {\n    /*\n     * this function will throw err.<message> if <passed> is falsy\n     */\n        var err;\n        if (passed) {\n            return;\n        }\n        err = (\n            // ternary-operator\n            (\n                message\n                && typeof message.message === \"string\"\n                && typeof message.stack === \"string\"\n            )\n            // if message is errObj, then leave as is\n            ? message\n            : new Error(\n                typeof message === \"string\"\n                // if message is a string, then leave as is\n                ? message\n                // else JSON.stringify message\n                : JSON.stringify(message, null, 4)\n            )\n        );\n        throw err;\n    };\n    local.functionOrNop = function (fnc) {\n    /*\n     * this function will if <fnc> exists,\n     * them return <fnc>,\n     * else return <nop>\n     */\n        return fnc || local.nop;\n    };\n    local.identity = function (value) {\n    /*\n     * this function will return <value>\n     */\n        return value;\n    };\n    local.nop = function () {\n    /*\n     * this function will do nothing\n     */\n        return;\n    };\n    local.objectAssignDefault = function (target, source) {\n    /*\n     * this function will if items from <target> are\n     * null, undefined, or empty-string,\n     * then overwrite them with items from <source>\n     */\n        target = target || {};\n        Object.keys(source || {}).forEach(function (key) {\n            if (\n                target[key] === null\n                || target[key] === undefined\n                || target[key] === \"\"\n            ) {\n                target[key] = target[key] || source[key];\n            }\n        });\n        return target;\n    };\n    // require builtin\n    if (!local.isBrowser) {\n        local.assert = require(\"assert\");\n        local.buffer = require(\"buffer\");\n        local.child_process = require(\"child_process\");\n        local.cluster = require(\"cluster\");\n        local.crypto = require(\"crypto\");\n        local.dgram = require(\"dgram\");\n        local.dns = require(\"dns\");\n        local.domain = require(\"domain\");\n        local.events = require(\"events\");\n        local.fs = require(\"fs\");\n        local.http = require(\"http\");\n        local.https = require(\"https\");\n        local.net = require(\"net\");\n        local.os = require(\"os\");\n        local.path = require(\"path\");\n        local.querystring = require(\"querystring\");\n        local.readline = require(\"readline\");\n        local.repl = require(\"repl\");\n        local.stream = require(\"stream\");\n        local.string_decoder = require(\"string_decoder\");\n        local.timers = require(\"timers\");\n        local.tls = require(\"tls\");\n        local.tty = require(\"tty\");\n        local.url = require(\"url\");\n        local.util = require(\"util\");\n        local.vm = require(\"vm\");\n        local.zlib = require(\"zlib\");\n    }\n}(this));\n\n\n\n(function (local) {\n\"use strict\";\n\n\n\n/* istanbul ignore next */\n// run shared js-env code - init-before\n(function () {\n// init local\nlocal = (\n    globalThis.utility2_rollup\n    // || globalThis.utility2_rollup_old\n    // || require(\"./assets.utility2.rollup.js\")\n    || globalThis.globalLocal\n);\n// init exports\nif (local.isBrowser) {\n    globalThis.utility2_github_crud = local;\n} else {\n    module.exports = local;\n    module.exports.__dirname = __dirname;\n}\n// init lib main\nlocal.github_crud = local;\n\n\n\n/* validateLineSortedReset */\nlocal.ajax = function (opt, onError) {\n/*\n * this function will send an ajax-req\n * with given <opt>.url and callback <onError>\n * with err and timeout handling\n * example usage:\n    local.ajax({\n        data: \"hello world\",\n        header: {\"x-header-hello\": \"world\"},\n        method: \"POST\",\n        url: \"/index.html\"\n    }, function (err, xhr) {\n        console.log(xhr.statusCode);\n        console.log(xhr.responseText);\n    });\n */\n    var ajaxProgressUpdate;\n    var bufferValidateAndCoerce;\n    var isDone;\n    var local2;\n    var onEvent;\n    var streamCleanup;\n    var timeout;\n    var tmp;\n    var xhr;\n    var xhrInit;\n    // init local2\n    local2 = opt.local2 || local.utility2 || {};\n    // init function\n    ajaxProgressUpdate = local2.ajaxProgressUpdate || local.nop;\n    bufferValidateAndCoerce = local2.bufferValidateAndCoerce || function (\n        bff,\n        mode\n    ) {\n    /*\n     * this function will validate and coerce/convert <bff> -> Buffer\n     * (or String if <mode> = \"string\")\n     */\n        // coerce ArrayBuffer -> Buffer\n        if (Object.prototype.toString.call(bff) === \"[object ArrayBuffer]\") {\n            bff = new Uint8Array(bff);\n        }\n        // convert Buffer -> utf8\n        if (mode === \"string\" && typeof bff !== \"string\") {\n            bff = String(bff);\n        }\n        return bff;\n    };\n    onEvent = function (evt) {\n    /*\n     * this function will handle events\n     */\n        if (Object.prototype.toString.call(evt) === \"[object Error]\") {\n            xhr.err = xhr.err || evt;\n            xhr.onEvent({\n                type: \"error\"\n            });\n            return;\n        }\n        // init statusCode\n        xhr.statusCode = (xhr.statusCode || xhr.status) | 0;\n        switch (evt.type) {\n        case \"abort\":\n        case \"error\":\n        case \"load\":\n            if (isDone) {\n                return;\n            }\n            isDone = true;\n            // decrement ajaxProgressCounter\n            local2.ajaxProgressCounter = Math.max(\n                local2.ajaxProgressCounter - 1,\n                0\n            );\n            ajaxProgressUpdate();\n            // handle abort or err event\n            switch (!xhr.err && evt.type) {\n            case \"abort\":\n            case \"error\":\n                xhr.err = new Error(\"ajax - event \" + evt.type);\n                break;\n            case \"load\":\n                if (xhr.statusCode >= 400) {\n                    xhr.err = new Error(\n                        \"ajax - statusCode \" + xhr.statusCode\n                    );\n                }\n                break;\n            }\n            // debug statusCode / method / url\n            if (xhr.err) {\n                xhr.statusCode = xhr.statusCode || 500;\n                xhr.err.statusCode = xhr.statusCode;\n                tmp = (\n                    // ternary-operator\n                    (\n                        local.isBrowser\n                        ? \"browser\"\n                        : \"node\"\n                    )\n                    + \" - \" + xhr.statusCode + \" \" + xhr.method + \" \" + xhr.url\n                    + \"\\n\"\n                );\n                xhr.err.message = tmp + xhr.err.message;\n                xhr.err.stack = tmp + xhr.err.stack;\n            }\n            // update resHeaders\n            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders\n            if (xhr.getAllResponseHeaders) {\n                xhr.getAllResponseHeaders().replace((\n                    /(.*?):\\u0020*(.*?)\\r\\n/g\n                ), function (ignore, match1, match2) {\n                    xhr.resHeaders[match1.toLowerCase()] = match2;\n                });\n            }\n            // debug ajaxResponse\n            xhr.resContentLength = (\n                xhr.response\n                && (xhr.response.byteLength || xhr.response.length)\n            ) | 0;\n            xhr.timeElapsed = Date.now() - xhr.timeStart;\n            if (xhr.modeDebug) {\n                console.error(\"serverLog - \" + JSON.stringify({\n                    time: new Date(xhr.timeStart).toISOString(),\n                    type: \"ajaxResponse\",\n                    method: xhr.method,\n                    url: xhr.url,\n                    statusCode: xhr.statusCode,\n                    timeElapsed: xhr.timeElapsed,\n                    // extra\n                    resContentLength: xhr.resContentLength\n                }));\n            }\n            // init responseType\n            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\n            switch (xhr.response && xhr.responseType) {\n            // init responseText\n            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseText\n            case \"\":\n            case \"text\":\n                if (typeof xhr.responseText === \"string\") {\n                    break;\n                }\n                xhr.responseText = bufferValidateAndCoerce(\n                    xhr.response,\n                    \"string\"\n                );\n                break;\n            case \"arraybuffer\":\n                xhr.responseBuffer = bufferValidateAndCoerce(xhr.response);\n                break;\n            }\n            // cleanup timerTimeout\n            clearTimeout(xhr.timerTimeout);\n            // cleanup reqStream and resStream\n            streamCleanup(xhr.reqStream);\n            streamCleanup(xhr.resStream);\n            onError(xhr.err, xhr);\n            break;\n        }\n    };\n    streamCleanup = function (stream) {\n    /*\n     * this function will try to end or destroy <stream>\n     */\n        var err;\n        // try to end stream\n        try {\n            stream.end();\n        } catch (errCaught) {\n            err = errCaught;\n        }\n        // if err, then try to destroy stream\n        if (err) {\n            try {\n                stream.destroy();\n            } catch (ignore) {}\n        }\n    };\n    xhrInit = function () {\n    /*\n     * this function will init xhr\n     */\n        // init opt\n        Object.keys(opt).forEach(function (key) {\n            if (key[0] !== \"_\") {\n                xhr[key] = opt[key];\n            }\n        });\n        // init timeout\n        timeout = xhr.timeout || local2.timeoutDefault || 30000;\n        // init default\n        local.objectAssignDefault(xhr, {\n            corsForwardProxyHost: local2.corsForwardProxyHost,\n            headers: {},\n            location: (local.isBrowser && location) || {},\n            method: \"GET\",\n            responseType: \"\"\n        });\n        // init headers\n        Object.keys(xhr.headers).forEach(function (key) {\n            xhr.headers[key.toLowerCase()] = xhr.headers[key];\n        });\n        // coerce Uint8Array -> Buffer\n        if (\n            !local.isBrowser\n            && !Buffer.isBuffer(xhr.data)\n            && Object.prototype.toString.call(xhr.data)\n            === \"[object Uint8Array]\"\n        ) {\n            Object.setPrototypeOf(xhr.data, Buffer.prototype);\n        }\n        // init misc\n        local2._debugXhr = xhr;\n        xhr.onEvent = onEvent;\n        xhr.resHeaders = {};\n        xhr.timeStart = xhr.timeStart || Date.now();\n    };\n    // init onError\n    if (local2.onErrorWithStack) {\n        onError = local2.onErrorWithStack(onError);\n    }\n    // init xhr - XMLHttpRequest\n    xhr = (\n        local.isBrowser\n        && !opt.httpReq\n        && !(local2.serverLocalUrlTest && local2.serverLocalUrlTest(opt.url))\n        && new XMLHttpRequest()\n    );\n    // init xhr - http.request\n    if (!xhr) {\n        xhr = local.identity(local2.urlParse || require(\"url\").parse)(opt.url);\n        // init xhr\n        xhrInit();\n        // init xhr - http.request\n        xhr = local.identity(\n            opt.httpReq\n            || (local.isBrowser && local2.http.request)\n            || require(xhr.protocol.slice(0, -1)).request\n        )(xhr, function (resStream) {\n        /*\n         * this function will read <resStream>\n         */\n            var chunkList;\n            chunkList = [];\n            xhr.resHeaders = resStream.resHeaders || resStream.headers;\n            xhr.resStream = resStream;\n            xhr.statusCode = resStream.statusCode;\n            resStream.dataLength = 0;\n            resStream.on(\"data\", function (chunk) {\n                chunkList.push(chunk);\n            });\n            resStream.on(\"end\", function () {\n                xhr.response = (\n                    local.isBrowser\n                    ? chunkList[0]\n                    : Buffer.concat(chunkList)\n                );\n                resStream.dataLength = (\n                    xhr.response.byteLength || xhr.response.length\n                );\n                xhr.onEvent({\n                    type: \"load\"\n                });\n            });\n            resStream.on(\"error\", xhr.onEvent);\n        });\n        xhr.abort = function () {\n        /*\n         * this function will abort xhr-req\n         * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/abort\n         */\n            xhr.onEvent({\n                type: \"abort\"\n            });\n        };\n        xhr.addEventListener = local.nop;\n        xhr.open = local.nop;\n        xhr.reqStream = xhr;\n        xhr.send = xhr.end;\n        xhr.setRequestHeader = local.nop;\n        xhr.on(\"error\", onEvent);\n    }\n    // init xhr\n    xhrInit();\n    // init timerTimeout\n    xhr.timerTimeout = setTimeout(function () {\n        xhr.err = xhr.err || new Error(\n            \"onTimeout - errTimeout - \"\n            + timeout + \" ms - \" + \"ajax \" + xhr.method + \" \" + xhr.url\n        );\n        xhr.abort();\n        // cleanup reqStream and resStream\n        streamCleanup(xhr.reqStream);\n        streamCleanup(xhr.resStream);\n    }, timeout);\n    // increment ajaxProgressCounter\n    local2.ajaxProgressCounter = local2.ajaxProgressCounter || 0;\n    local2.ajaxProgressCounter += 1;\n    // init event-handling\n    xhr.addEventListener(\"abort\", xhr.onEvent);\n    xhr.addEventListener(\"error\", xhr.onEvent);\n    xhr.addEventListener(\"load\", xhr.onEvent);\n    xhr.addEventListener(\"loadstart\", ajaxProgressUpdate);\n    xhr.addEventListener(\"progress\", ajaxProgressUpdate);\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/upload\n    if (xhr.upload && xhr.upload.addEventListener) {\n        xhr.upload.addEventListener(\"progress\", ajaxProgressUpdate);\n    }\n    // open url - corsForwardProxyHost\n    if (local.functionOrNop(local2.corsForwardProxyHostIfNeeded)(xhr)) {\n        xhr.open(xhr.method, local2.corsForwardProxyHostIfNeeded(xhr));\n        xhr.setRequestHeader(\n            \"forward-proxy-headers\",\n            JSON.stringify(xhr.headers)\n        );\n        xhr.setRequestHeader(\"forward-proxy-url\", xhr.url);\n    // open url - default\n    } else {\n        xhr.open(xhr.method, xhr.url);\n    }\n    // send headers\n    Object.keys(xhr.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, xhr.headers[key]);\n    });\n    // send data\n    switch ((xhr.data && xhr.data.constructor) || true) {\n    // Blob\n    // https://developer.mozilla.org/en-US/docs/Web/API/Blob\n    case local2.Blob:\n    // FormData\n    // https://developer.mozilla.org/en-US/docs/Web/API/FormData\n    case local2.FormData:\n        local2.blobRead(xhr.data, function (err, data) {\n            if (err) {\n                xhr.onEvent(err);\n                return;\n            }\n            // send data\n            xhr.send(data);\n        });\n        break;\n    default:\n        xhr.send(xhr.data);\n    }\n    return xhr;\n};\n\nlocal.cliRun = function (opt) {\n/*\n * this function will run the cli with given <opt>\n */\n    local.cliDict._eval = local.cliDict._eval || function () {\n    /*\n     * <code>\n     * will eval <code>\n     */\n        globalThis.local = local;\n        local.vm.runInThisContext(process.argv[3]);\n    };\n    local.cliDict[\"--eval\"] = local.cliDict[\"--eval\"] || local.cliDict._eval;\n    local.cliDict[\"-e\"] = local.cliDict[\"-e\"] || local.cliDict._eval;\n    local.cliDict._help = local.cliDict._help || function () {\n    /*\n     *\n     * will print help\n     */\n        var commandList;\n        var file;\n        var packageJson;\n        var text;\n        var textDict;\n        commandList = [{\n            argList: \"<arg2>  ...\",\n            description: \"usage:\",\n            command: [\"<arg1>\"]\n        }, {\n            argList: \"'console.log(\\\"hello world\\\")'\",\n            description: \"example:\",\n            command: [\"--eval\"]\n        }];\n        file = __filename.replace((\n            /.*\\//\n        ), \"\");\n        opt = Object.assign({}, opt);\n        packageJson = require(\"./package.json\");\n        // validate comment\n        opt.rgxComment = opt.rgxComment || (\n            /\\)\\u0020\\{\\n(?:|\\u0020{4})\\/\\*\\n(?:\\u0020|\\u0020{5})\\*((?:\\u0020<[^>]*?>|\\u0020\\.\\.\\.)*?)\\n(?:\\u0020|\\u0020{5})\\*\\u0020(will\\u0020.*?\\S)\\n(?:\\u0020|\\u0020{5})\\*\\/\\n(?:\\u0020{4}|\\u0020{8})\\S/\n        );\n        textDict = {};\n        Object.keys(local.cliDict).sort().forEach(function (key, ii) {\n            if (key[0] === \"_\" && key !== \"_default\") {\n                return;\n            }\n            text = String(local.cliDict[key]);\n            if (key === \"_default\") {\n                key = \"\";\n            }\n            textDict[text] = textDict[text] || (ii + 2);\n            ii = textDict[text];\n            if (commandList[ii]) {\n                commandList[ii].command.push(key);\n                return;\n            }\n            try {\n                commandList[ii] = opt.rgxComment.exec(text);\n                commandList[ii] = {\n                    argList: (commandList[ii][1] || \"\").trim(),\n                    command: [key],\n                    description: commandList[ii][2]\n                };\n            } catch (ignore) {\n                local.assertThrow(null, new Error(\n                    \"cliRun - cannot parse comment in COMMAND \"\n                    + key\n                    + \":\\nnew RegExp(\"\n                    + JSON.stringify(opt.rgxComment.source)\n                    + \").exec(\" + JSON.stringify(text).replace((\n                        /\\\\\\\\/g\n                    ), \"\\u0000\").replace((\n                        /\\\\n/g\n                    ), \"\\\\n\\\\\\n\").replace((\n                        /\\u0000/g\n                    ), \"\\\\\\\\\") + \");\"\n                ));\n            }\n        });\n        text = \"\";\n        text += packageJson.name + \" (\" + packageJson.version + \")\\n\\n\";\n        text += commandList.filter(function (elem) {\n            return elem;\n        }).map(function (elem, ii) {\n            elem.command = elem.command.filter(function (elem) {\n                return elem;\n            });\n            switch (ii) {\n            case 0:\n            case 1:\n                elem.argList = [elem.argList];\n                break;\n            default:\n                elem.argList = elem.argList.split(\" \");\n                elem.description = (\n                    \"# COMMAND \"\n                    + (elem.command[0] || \"<none>\") + \"\\n# \"\n                    + elem.description\n                );\n            }\n            return (\n                elem.description + \"\\n  \" + file\n                + (\"  \" + elem.command.sort().join(\"|\") + \"  \")\n                    .replace((\n                    /^\\u0020{4}$/\n                ), \"  \")\n                + elem.argList.join(\"  \")\n            );\n        })\n        .join(\"\\n\\n\");\n        console.log(text);\n    };\n    local.cliDict[\"--help\"] = local.cliDict[\"--help\"] || local.cliDict._help;\n    local.cliDict[\"-h\"] = local.cliDict[\"-h\"] || local.cliDict._help;\n    local.cliDict._default = local.cliDict._default || local.cliDict._help;\n    local.cliDict.help = local.cliDict.help || local.cliDict._help;\n    local.cliDict._interactive = local.cliDict._interactive || function () {\n    /*\n     *\n     * will start interactive-mode\n     */\n        globalThis.local = local;\n        local.identity(local.replStart || require(\"repl\").start)({\n            useGlobal: true\n        });\n    };\n    local.cliDict[\"--interactive\"] = (\n        local.cliDict[\"--interactive\"]\n        || local.cliDict._interactive\n    );\n    local.cliDict[\"-i\"] = local.cliDict[\"-i\"] || local.cliDict._interactive;\n    local.cliDict._version = local.cliDict._version || function () {\n    /*\n     *\n     * will print version\n     */\n        console.log(require(__dirname + \"/package.json\").version);\n    };\n    local.cliDict[\"--version\"] = (\n        local.cliDict[\"--version\"]\n        || local.cliDict._version\n    );\n    local.cliDict[\"-v\"] = local.cliDict[\"-v\"] || local.cliDict._version;\n    // default to --help command if no arguments are given\n    if (process.argv.length <= 2) {\n        local.cliDict._help();\n        return;\n    }\n    if (local.cliDict[process.argv[2]]) {\n        local.cliDict[process.argv[2]]();\n        return;\n    }\n    local.cliDict._default();\n};\n\nlocal.onErrorDefault = function (err) {\n/*\n * this function will if <err> exists, then print it to stderr\n */\n    if (err) {\n        console.error(err);\n    }\n    return err;\n};\n\nlocal.onErrorWithStack = function (onError) {\n/*\n * this function will create wrapper around <onError>\n * that will append current-stack to err.stack\n */\n    var onError2;\n    var stack;\n    stack = new Error().stack.replace((\n        /(.*?)\\n.*?$/m\n    ), \"$1\");\n    onError2 = function (err, data, meta) {\n        if (\n            err\n            && typeof err.stack === \"string\"\n            && err !== local.errDefault\n            && String(err.stack).indexOf(stack.split(\"\\n\")[2]) < 0\n        ) {\n            // append current-stack to err.stack\n            err.stack += \"\\n\" + stack;\n        }\n        onError(err, data, meta);\n    };\n    // debug onError\n    onError2.toString = function () {\n        return String(onError);\n    };\n    return onError2;\n};\n\nlocal.onNext = function (opt, onError) {\n/*\n * this function will wrap onError inside recursive-function <opt>.onNext,\n * and append the current-stack to any err\n */\n    opt.onNext = local.onErrorWithStack(function (err, data, meta) {\n        try {\n            opt.modeNext += (\n                (err && !opt.modeErrorIgnore)\n                ? 1000\n                : 1\n            );\n            if (opt.modeDebug) {\n                console.error(\"onNext - \" + JSON.stringify({\n                    modeNext: opt.modeNext,\n                    errorMessage: err && err.message\n                }));\n                if (err && err.stack) {\n                    console.error(err.stack);\n                }\n            }\n            onError(err, data, meta);\n        } catch (errCaught) {\n            // throw errCaught to break infinite recursion-loop\n            if (opt.errCaught) {\n                local.assertThrow(null, opt.errCaught);\n            }\n            opt.errCaught = errCaught;\n            opt.onNext(errCaught, data, meta);\n        }\n    });\n    return opt;\n};\n\nlocal.onParallel = function (onError, onEach, onRetry) {\n/*\n * this function will create a function that will\n * 1. run async tasks in parallel\n * 2. if counter === 0 or err occurred, then call onError(err)\n */\n    var onParallel;\n    onError = local.onErrorWithStack(onError);\n    onEach = onEach || local.nop;\n    onRetry = onRetry || local.nop;\n    onParallel = function (err, data) {\n        if (onRetry(err, data)) {\n            return;\n        }\n        // decrement counter\n        onParallel.counter -= 1;\n        // validate counter\n        if (!(onParallel.counter >= 0 || err || onParallel.err)) {\n            err = new Error(\n                \"invalid onParallel.counter = \" + onParallel.counter\n            );\n        // ensure onError is run only once\n        } else if (onParallel.counter < 0) {\n            return;\n        }\n        // handle err\n        if (err) {\n            onParallel.err = err;\n            // ensure counter <= 0\n            onParallel.counter = -Math.abs(onParallel.counter);\n        }\n        // call onError when isDone\n        if (onParallel.counter <= 0) {\n            onError(err, data);\n            return;\n        }\n        onEach();\n    };\n    // init counter\n    onParallel.counter = 0;\n    // return callback\n    return onParallel;\n};\n\nlocal.onParallelList = function (opt, onEach, onError) {\n/*\n * this function will\n * 1. async-run onEach in parallel,\n *    with given <opt>.rateLimit and <opt>.retryLimit\n * 2. call <onError> when onParallel.ii + 1 === <opt>.list.length\n */\n    var isListEnd;\n    var onEach2;\n    var onParallel;\n    opt.list = opt.list || [];\n    onEach2 = function () {\n        while (true) {\n            if (!(onParallel.ii + 1 < opt.list.length)) {\n                isListEnd = true;\n                return;\n            }\n            if (!(onParallel.counter < opt.rateLimit + 1)) {\n                return;\n            }\n            onParallel.ii += 1;\n            onEach({\n                elem: opt.list[onParallel.ii],\n                ii: onParallel.ii,\n                list: opt.list,\n                retry: 0\n            }, onParallel);\n        }\n    };\n    onParallel = local.onParallel(onError, onEach2, function (err, data) {\n        if (err && data && data.retry < opt.retryLimit) {\n            local.onErrorDefault(err);\n            data.retry += 1;\n            setTimeout(function () {\n                onParallel.counter -= 1;\n                onEach(data, onParallel);\n            }, 1000);\n            return true;\n        }\n        // restart if opt.list has grown\n        if (isListEnd && (onParallel.ii + 1 < opt.list.length)) {\n            isListEnd = null;\n            onEach2();\n        }\n    });\n    onParallel.ii = -1;\n    opt.rateLimit = Number(opt.rateLimit) || 6;\n    opt.rateLimit = Math.max(opt.rateLimit, 1);\n    opt.retryLimit = Number(opt.retryLimit) || 2;\n    onParallel.counter += 1;\n    onEach2();\n    onParallel();\n};\n}());\n\n\n\n// run shared js-env code - function\n(function () {\nlocal.githubCrudAjax = function (opt, onError) {\n/*\n * this function will make a low-level content-req to github\n * https://developer.github.com/v3/repos/contents/\n */\n    // init opt\n    opt = {\n        content: opt.content,\n        headers: Object.assign({\n            // github oauth authentication\n            Authorization: \"token \" + (\n                typeof process === \"object\"\n                && process && process.env.GITHUB_TOKEN\n            ),\n            // bug-workaround\n            // https://developer.github.com/v3/#user-agent-required\n            \"User-Agent\": \"undefined\"\n        }, opt.headers),\n        httpReq: opt.httpReq,\n        message: opt.message,\n        method: opt.method || \"GET\",\n        responseJson: {},\n        sha: opt.sha,\n        url: opt.url\n    };\n    opt.url = opt.url\n/* jslint ignore:start */\n// parse https://github.com/:owner/:repo/blob/:branch/:path\n.replace(\n    (/^https:\\/\\/github.com\\/([^\\/]+?\\/[^\\/]+?)\\/blob\\/([^\\/]+?)\\/(.+)/),\n    'https://api.github.com/repos/$1/contents/$3?branch=$2'\n)\n// parse https://github.com/:owner/:repo/tree/:branch/:path\n.replace(\n    (/^https:\\/\\/github.com\\/([^\\/]+?\\/[^\\/]+?)\\/tree\\/([^\\/]+?)\\/(.+)/),\n    'https://api.github.com/repos/$1/contents/$3?branch=$2'\n)\n// parse https://raw.githubusercontent.com/:owner/:repo/:branch/:path\n.replace(\n(/^https:\\/\\/raw.githubusercontent.com\\/([^\\/]+?\\/[^\\/]+?)\\/([^\\/]+?)\\/(.+)/),\n    'https://api.github.com/repos/$1/contents/$3?branch=$2'\n)\n// parse https://:owner.github.io/:repo/:path\n.replace(\n    (/^https:\\/\\/([^\\.]+?)\\.github\\.io\\/([^\\/]+?)\\/(.+)/),\n    'https://api.github.com/repos/$1/$2/contents/$3?branch=gh-pages'\n)\n// parse :owner/:repo\n.replace(\n    (/^([^\\/]+?\\/[^\\/]+?)$/),\n    'https://github.com/$1'\n)\n/* jslint ignore:end */\n    .replace((\n        /\\?branch=(.*)/\n    ), function (match0, match1) {\n        opt.branch = match1;\n        if (opt.method === \"GET\") {\n            match0 = match0.replace(\"branch\", \"ref\");\n        }\n        return match0;\n    });\n    if ((\n        /^https:\\/\\/github\\.com\\/[^\\/]+?\\/[^\\/]+?$/\n    ).test(opt.url)) {\n        opt.data = JSON.stringify({\n            name: opt.url.split(\"/\")[4]\n        });\n        switch (opt.method) {\n        case \"DELETE\":\n            opt.url = (\n                \"https://api.github.com/repos/\"\n                + opt.url.split(\"/\").slice(3).join(\"/\")\n            );\n            break;\n        case \"POST_ORG\":\n            opt.url = (\n                \"https://api.github.com/orgs/\"\n                + opt.url.split(\"/\")[3] + \"/repos\"\n            );\n            break;\n        case \"POST_USER\":\n            opt.url = \"https://api.github.com/user/repos\";\n            break;\n        }\n        opt.method = opt.method.split(\"_\")[0];\n    } else {\n        if (opt.url.indexOf(\"https://api.github.com/repos/\") !== 0) {\n            console.error(\"githubCrud - invalid url \" + opt.url);\n            onError(new Error(\"invalid url \" + opt.url));\n            return;\n        }\n        if (opt.method !== \"GET\") {\n            opt.message = (\n                opt.message\n                || \"[ci skip] \" + opt.method + \" file \"\n                + opt.url.replace((\n                    /\\?.*/\n                ), \"\")\n            );\n            opt.url += \"&message=\" + encodeURIComponent(opt.message);\n            if (opt.sha) {\n                opt.url += \"&sha=\" + opt.sha;\n            }\n            opt.data = JSON.stringify({\n                branch: opt.branch,\n                content: Buffer.from(opt.content || \"\").toString(\"base64\"),\n                message: opt.message,\n                sha: opt.sha\n            });\n        }\n    }\n    local.ajax(opt, function (err, xhr) {\n        console.error(\"serverLog - \" + JSON.stringify({\n            time: new Date(xhr.timeStart).toISOString(),\n            type: \"githubCrudResponse\",\n            method: xhr.method,\n            url: xhr.url,\n            statusCode: xhr.statusCode,\n            timeElapsed: xhr.timeElapsed\n        }));\n        local.onErrorDefault(\n            err\n            && err.statusCode !== 404\n            && xhr\n            && (\"githubCrud - \" + xhr.responseText)\n        );\n        try {\n            opt.responseJson = JSON.parse(xhr.responseText);\n        } catch (ignore) {}\n        onError(\n            !(opt.method === \"DELETE\" && xhr.statusCode === 404) && err,\n            opt.responseJson\n        );\n    });\n};\n\nlocal.githubCrudContentDelete = function (opt, onError) {\n/*\n * this function will delete github-file <opt>.url\n * https://developer.github.com/v3/repos/contents/#delete-a-file\n */\n    opt = {\n        httpReq: opt.httpReq,\n        message: opt.message,\n        url: opt.url\n    };\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // get sha\n            local.githubCrudAjax({\n                httpReq: opt.httpReq,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        case 2:\n            // delete file with sha\n            if (!err && data.sha) {\n                local.githubCrudAjax({\n                    httpReq: opt.httpReq,\n                    message: opt.message,\n                    method: \"DELETE\",\n                    sha: data.sha,\n                    url: opt.url\n                }, opt.onNext);\n                return;\n            }\n            // delete tree\n            local.onParallelList({\n                list: data\n            }, function (option2, onParallel) {\n                onParallel.counter += 1;\n                // recurse\n                local.githubCrudContentDelete({\n                    httpReq: opt.httpReq,\n                    message: opt.message,\n                    url: option2.elem.url\n                }, onParallel);\n            }, opt.onNext);\n            break;\n        default:\n            onError(err, data);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.githubCrudContentGet = function (opt, onError) {\n/*\n * this function will get github-file <opt>.url\n * https://developer.github.com/v3/repos/contents/#get-contents\n */\n    opt = {\n        httpReq: opt.httpReq,\n        url: opt.url\n    };\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            local.githubCrudAjax({\n                httpReq: opt.httpReq,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        case 2:\n            opt.onNext(null, Buffer.from(data.content || \"\", \"base64\"));\n            break;\n        default:\n            onError(err, !err && data);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.githubCrudContentPut = function (opt, onError) {\n/*\n * this function will put <opt>.content to github-file <opt>.url\n * https://developer.github.com/v3/repos/contents/#create-a-file\n * https://developer.github.com/v3/repos/contents/#update-a-file\n */\n    opt = {\n        content: opt.content,\n        httpReq: opt.httpReq,\n        message: opt.message,\n        modeErrorIgnore: true,\n        url: opt.url\n    };\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // get sha\n            local.githubCrudAjax({\n                httpReq: opt.httpReq,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        case 2:\n            // put file with sha\n            local.githubCrudAjax({\n                content: opt.content,\n                httpReq: opt.httpReq,\n                message: opt.message,\n                method: \"PUT\",\n                sha: data.sha,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        default:\n            onError(err, data);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.githubCrudContentPutFile = function (opt, onError) {\n/*\n * this function will put opt.file to github-file <opt>.url\n * https://developer.github.com/v3/repos/contents/#update-a-file\n */\n    opt = {\n        file: opt.file,\n        httpReq: opt.httpReq,\n        message: opt.message,\n        url: opt.url\n    };\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // get file from url\n            if ((\n                /^(?:http|https):\\/\\//\n            ).test(opt.file)) {\n                local.ajax({\n                    httpReq: opt.httpReq,\n                    url: opt.file\n                }, function (err, res) {\n                    opt.onNext(err, res && res.data);\n                });\n                return;\n            }\n            // get file\n            local.fs.readFile(opt.file, opt.onNext);\n            break;\n        case 2:\n            local.githubCrudContentPut({\n                content: data,\n                httpReq: opt.httpReq,\n                message: opt.message,\n                // resolve file in url\n                url: (\n                    // ternary-operator\n                    (\n                        /\\/$/\n                    ).test(opt.url)\n                    ? opt.url + local.path.basename(opt.file)\n                    : opt.url\n                )\n            }, opt.onNext);\n            break;\n        default:\n            onError(err, data);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.githubCrudContentTouch = function (opt, onError) {\n/*\n * this function will touch github-file <opt>.url\n * https://developer.github.com/v3/repos/contents/#update-a-file\n */\n    opt = {\n        httpReq: opt.httpReq,\n        message: opt.message,\n        modeErrorIgnore: true,\n        url: opt.url\n    };\n    local.onNext(opt, function (err, data) {\n        switch (opt.modeNext) {\n        case 1:\n            // get sha\n            local.githubCrudAjax({\n                httpReq: opt.httpReq,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        case 2:\n            // put file with sha\n            local.githubCrudAjax({\n                content: Buffer.from(data.content || \"\", \"base64\"),\n                httpReq: opt.httpReq,\n                message: opt.message,\n                method: \"PUT\",\n                sha: data.sha,\n                url: opt.url\n            }, opt.onNext);\n            break;\n        default:\n            onError(err, data);\n        }\n    });\n    opt.modeNext = 0;\n    opt.onNext();\n};\n\nlocal.githubCrudContentTouchList = function (opt, onError) {\n/*\n * this function will touch github-files <opt>.urlList in parallel\n * https://developer.github.com/v3/repos/contents/#update-a-file\n */\n    local.onParallelList({\n        list: opt.urlList\n    }, function (option2, onParallel) {\n        onParallel.counter += 1;\n        local.githubCrudContentTouch({\n            httpReq: opt.httpReq,\n            message: opt.message,\n            url: option2.elem\n        }, onParallel);\n    }, onError);\n};\n\nlocal.githubCrudRepoCreate = function (opt, onError) {\n/*\n * this function will create github-repo <opt>.url\n * https://developer.github.com/v3/repos/#create\n */\n    local.githubCrudAjax({\n        httpReq: opt.httpReq,\n        method: \"POST_ORG\",\n        url: opt.url\n    }, function (err, data) {\n        if (!(err && err.statusCode === 404)) {\n            onError(err, data);\n            return;\n        }\n        local.githubCrudAjax({\n            httpReq: opt.httpReq,\n            method: \"POST_USER\",\n            url: opt.url\n        }, onError);\n    });\n};\n\nlocal.githubCrudRepoCreateList = function (opt, onError) {\n/*\n * this function will create github-repos <opt>.urlList in parallel\n * https://developer.github.com/v3/repos/#create\n */\n    local.onParallelList({\n        list: opt.urlList\n    }, function (option2, onParallel) {\n        onParallel.counter += 1;\n        local.githubCrudRepoCreate({\n            httpReq: opt.httpReq,\n            url: option2.elem\n        }, onParallel);\n    }, onError);\n};\n\nlocal.githubCrudRepoDelete = function (opt, onError) {\n/*\n * this function will delete github-repo <opt>.url\n * https://developer.github.com/v3/repos/#delete-a-repository\n */\n    local.githubCrudAjax({\n        httpReq: opt.httpReq,\n        method: \"DELETE\",\n        url: opt.url\n    }, onError);\n};\n\nlocal.githubCrudRepoDeleteList = function (opt, onError) {\n/*\n * this function will delete github-repos <opt>.urlList in parallel\n * https://developer.github.com/v3/repos/#delete-a-repository\n */\n    local.onParallelList({\n        list: opt.urlList\n    }, function (option2, onParallel) {\n        onParallel.counter += 1;\n        local.githubCrudRepoDelete({\n            httpReq: opt.httpReq,\n            url: option2.elem\n        }, onParallel);\n    }, onError);\n};\n}());\n\n\n\n// run node js-env code - init-after\n/* istanbul ignore next */\n(function () {\nif (local.isBrowser) {\n    return;\n}\n\n\n\nlocal.cliDict = {};\nlocal.cliDict.delete = function () {\n/*\n * <fileRemote|dirRemote> <commitMessage>\n * will delete from github <fileRemote|dirRemote>\n */\n    local.github_crud.githubCrudContentDelete({\n        message: process.argv[4],\n        url: process.argv[3]\n    }, function (err) {\n        process.exit(Boolean(err));\n    });\n};\n\nlocal.cliDict.get = function () {\n/*\n * <fileRemote>\n * will get from github <fileRemote>\n */\n    local.github_crud.githubCrudContentGet({\n        url: process.argv[3]\n    }, function (err, data) {\n        try {\n            process.stdout.write(data);\n        } catch (ignore) {}\n        process.exit(Boolean(err));\n    });\n};\n\nlocal.cliDict.put = function () {\n/*\n * <fileRemote> <fileLocal> <commitMessage>\n * will put on github <fileRemote> to <fileLocal>\n */\n    local.github_crud.githubCrudContentPutFile({\n        message: process.argv[5],\n        url: process.argv[3],\n        file: process.argv[4]\n    }, function (err) {\n        process.exit(Boolean(err));\n    });\n};\n\nlocal.cliDict.repo_create = function () {\n/*\n * <repoList>\n * will create on github in parallel, comma-separated <repoList>\n */\n    local.github_crud.githubCrudRepoCreateList({\n        urlList: process.argv[3].split(\n            /[,\\s]/g\n        ).filter(local.identity)\n    }, function (err) {\n        process.exit(Boolean(err));\n    });\n};\n\nlocal.cliDict.repo_delete = function () {\n/*\n * <repoList>\n * will delete from github in parallel, comma-separated <repoList>\n */\n    local.github_crud.githubCrudRepoDeleteList({\n        urlList: process.argv[3].split(\n            /[,\\s]/g\n        ).filter(local.identity)\n    }, function (err) {\n        process.exit(Boolean(err));\n    });\n};\n\nlocal.cliDict.touch = function () {\n/*\n * <fileRemoteList> <commitMessage>\n * will touch on github in parallel, comma-separated <fileRemoteList>\n */\n    local.github_crud.githubCrudContentTouchList({\n        message: process.argv[4],\n        urlList: process.argv[3].split(\n            /[,\\s]/g\n        ).filter(local.identity)\n    }, function (err) {\n        process.exit(Boolean(err));\n    });\n};\n\n// run the cli\nif (module === require.main && !globalThis.utility2_rollup) {\n    local.cliRun();\n}\n}());\n\n\n\n}());\n","/home/travis/build/kaizhu256/node-github-crud/example.js":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\nexample.js\n\nthis script will run a web-demo of github-crud\n\ninstruction\n    1. save this script as example.js\n    2. edit env vars below\n    3. run the shell command:\n        $ npm install kaizhu256/node-github-crud#alpha && node example.js\n    4. edit this script to suit your needs\n*/\n\n\n\n/* istanbul instrument in package github_crud */\n/* jslint utility2:true */\n(function () {\n\"use strict\";\n\n\n\n/*\n * edit begin\n * edit env vars below\n */\nprocess.env.BRANCH = \"gh-pages\";\nprocess.env.GITHUB_REPO = \"kaizhu256/node-github-crud\";\n// get $GITHUB_TOKEN from https://github.com/settings/tokens\nprocess.env.GITHUB_TOKEN = process.env.GITHUB_TOKEN || \"xxxxxxxx\";\n/*\n * edit end\n */\n\n\n\nvar local;\nvar modeNext;\nvar onNext;\nmodeNext = 0;\n/* istanbul ignore next */\nonNext = function (err, data) {\n    if (err) {\n        console.error(err);\n    }\n    modeNext += 1;\n    switch (modeNext) {\n    // init\n    case 1:\n        if (\n            typeof window === \"object\"\n            || global.utility2_rollup // jslint ignore:line\n        ) {\n            return;\n        }\n        local = globalThis.utility2_moduleExports;\n        module.exports = local;\n        if (\n            process.env.npm_config_mode_auto_restart\n            || process.env.npm_config_mode_test\n        ) {\n            return;\n        }\n        onNext();\n        break;\n    // test github-crud put\n    case 2:\n        console.error(\"\\n\\n\\ngithub-crud put /foo/bar/hello.txt\\n\");\n        local.githubCrudContentPut({\n            content: \"hello world\\n\",\n            message: \"commit message 1\",\n            url: \"https://github.com/\" + process.env.GITHUB_REPO + \"/blob/\"\n            + process.env.BRANCH + \"/foo/bar/hello.txt\"\n        }, onNext);\n        break;\n    // test github-crud get\n    case 3:\n        console.error(\"\\n\\n\\ngithub-crud get /foo/bar/hello.txt\\n\");\n        local.githubCrudContentGet({\n            url: \"https://github.com/\" + process.env.GITHUB_REPO + \"/blob/\"\n            + process.env.BRANCH + \"/foo/bar/hello.txt\"\n        }, onNext);\n        break;\n    // test github-crud touch\n    case 4:\n        console.error(String(data));\n        console.error(\"\\n\\n\\ngithub-crud touch /foo/bar/hello.txt\\n\");\n        local.githubCrudContentTouch({\n            message: \"commit message 2\",\n            url: \"https://github.com/\" + process.env.GITHUB_REPO + \"/blob/\"\n            + process.env.BRANCH + \"/foo/bar/hello.txt\"\n        }, onNext);\n        break;\n    // test github-crud delete\n    case 5:\n        console.error(\"\\n\\n\\ngithub-crud delete /foo/bar/hello.txt\\n\");\n        local.githubCrudContentDelete({\n            message: \"commit message 3\",\n            url: \"https://github.com/\" + process.env.GITHUB_REPO + \"/blob/\"\n            + process.env.BRANCH + \"/foo/bar/hello.txt\"\n        }, onNext);\n        break;\n    }\n};\nonNext();\n}());"}